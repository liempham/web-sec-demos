<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√†i h·ªçc v·ªÅ Cryptographic Failures</title>
    <style>
        html,
        body {
            margin: 0;
            padding: 0;
            background-color: #1d2b3a;
            color: white;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            scroll-behavior: smooth;
        }

        .section {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 40px 20px;
            box-sizing: border-box;
            min-height: 100vh;
        }

        .demo-section {
            background-color: #1d2b3a;
        }

        .lesson-section {
            background-color: #f0f2f5;
            color: #333;
            min-height: auto;
            padding-bottom: 60px;
        }

        .container {
            width: 100%;
            max-width: 700px;
        }

        h1 {
            font-size: clamp(2em, 8vw, 3em);
            margin-bottom: 20px;
        }

        .lesson-section h1,
        .lesson-section h2 {
            color: #333;
        }

        .lesson-section h2 {
            border-bottom: 2px solid #ddd;
            padding-bottom: 10px;
            margin-top: 40px;
        }

        p {
            font-size: clamp(1em, 4vw, 1.2em);
            line-height: 1.6;
            margin-bottom: 25px;
            color: #bdc3c7;
        }

        .lesson-section p,
        .lesson-section li {
            color: #555;
            text-align: left;
        }

        .lesson-section ul {
            padding-left: 25px;
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-group input {
            width: 80%;
            padding: 12px;
            border-radius: 8px;
            border: 2px solid #34495e;
            background-color: #2c3e50;
            color: white;
            font-size: 1em;
        }

        .note {
            background-color: #fff3cd;
            border-left: 5px solid #ffeeba;
            padding: 15px;
            margin: 20px 0;
            text-align: left;
            color: #856404;
            font-size: 1em;
            line-height: 1.5;
            border-radius: 0 8px 8px 0;
        }

        button {
            padding: 12px 25px;
            font-size: 1.1em;
            font-weight: 600;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }

        .db-view {
            display: flex;
            justify-content: space-around;
            gap: 20px;
            text-align: left;
            background-color: #111;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }

        .db-table {
            width: 48%;
        }

        .db-table h3 {
            margin-top: 0;
            border-bottom: 1px solid #555;
            padding-bottom: 5px;
        }

        .db-table pre {
            white-space: pre-wrap;
            word-wrap: break-word;
            color: #ffc107;
        }

        .mermaid-container {
            width: 100%;
            margin-top: 30px;
        }

        @media (min-width: 992px) {
            .lesson-section .container {
                max-width: 900px;
            }

            .mermaid-container {
                margin-top: 40px;
            }
        }
    </style>
</head>

<body>
    <div class="section demo-section">
        <div class="container">
            <h1>üîë Th·ª≠ nghi·ªám L·ªói M√£ h√≥a üîë</h1>
            <p>Demo n√†y cho th·∫•y s·ª± kh√°c bi·ªát gi·ªØa vi·ªác l∆∞u m·∫≠t kh·∫©u d∆∞·ªõi d·∫°ng vƒÉn b·∫£n thu·∫ßn (plaintext) v√† l∆∞u d∆∞·ªõi
                d·∫°ng ƒë√£ ƒë∆∞·ª£c bƒÉm (hashed) an to√†n.</p>
            <div class="input-group">
                <input type="text" id="username" value="user123" readonly>
                <input type="password" id="password" value="mySuperSecretPassword">
            </div>
            <button onclick="registerUser()">ƒêƒÉng k√Ω t√†i kho·∫£n</button>
            <h2>Ch·∫ø ƒë·ªô xem C∆° s·ªü d·ªØ li·ªáu (gi·∫£ l·∫≠p):</h2>
            <div class="db-view">
                <div class="db-table">
                    <h3>B·∫£ng l∆∞u m·∫≠t kh·∫©u L·ªói (Plaintext)</h3>
                    <pre id="db-insecure">...</pre>
                </div>
                <div class="db-table">
                    <h3>B·∫£ng l∆∞u m·∫≠t kh·∫©u An to√†n (Hashed)</h3>
                    <pre id="db-secure">...</pre>
                </div>
            </div>
        </div>
    </div>
    <div class="section lesson-section">
        <div class="container">
            <h1>A02: Cryptographic Failures l√† g√¨?</h1>
            <p style="text-align:center;">L·ªói n√†y x·∫£y ra khi d·ªØ li·ªáu nh·∫°y c·∫£m (nh∆∞ m·∫≠t kh·∫©u, th√¥ng tin th·∫ª t√≠n d·ª•ng)
                kh√¥ng ƒë∆∞·ª£c b·∫£o v·ªá b·∫±ng c√°c bi·ªán ph√°p m√£ h√≥a, ho·∫∑c s·ª≠ d·ª•ng c√°c thu·∫≠t to√°n m√£ h√≥a ƒë√£ l·ªói th·ªùi, y·∫øu k√©m.
                Vi·ªác l∆∞u m·∫≠t kh·∫©u d∆∞·ªõi d·∫°ng vƒÉn b·∫£n thu·∫ßn l√† m·ªôt v√≠ d·ª• kinh ƒëi·ªÉn, n·∫øu c∆° s·ªü d·ªØ li·ªáu b·ªã r√≤ r·ªâ, to√†n b·ªô
                m·∫≠t kh·∫©u c·ªßa ng∆∞·ªùi d√πng s·∫Ω b·ªã l·ªô.</p>
            <div class="note">
                V√¨ ƒë√¢y l√† l·ªó h·ªïng ·ªü ph√≠a m√°y ch·ªß (backend), n√≥ ·∫£nh h∆∞·ªüng ƒë·∫øn
                <strong>t·∫•t c·∫£ c√°c lo·∫°i client</strong>, bao g·ªìm c·∫£ tr√¨nh duy·ªát web v√† ·ª©ng d·ª•ng di ƒë·ªông.
            </div>
            <h2>M·ªôt s·ªë d·∫°ng L·ªói M√£ h√≥a ph·ªï bi·∫øn</h2>
            <ul>
                <li>S·ª≠ d·ª•ng c√°c thu·∫≠t to√°n m√£ h√≥a ƒë√£ b·ªã b·∫ª kh√≥a nh∆∞ MD5, SHA1 ƒë·ªÉ l∆∞u m·∫≠t kh·∫©u.</li>
                <li>Truy·ªÅn d·ªØ li·ªáu nh·∫°y c·∫£m qua k·∫øt n·ªëi kh√¥ng ƒë∆∞·ª£c m√£ h√≥a (HTTP).</li>
                <li>T·∫°o ra c√°c m√£ ng·∫´u nhi√™n kh√¥ng ƒë·ªß an to√†n (v√≠ d·ª• cho vi·ªác reset m·∫≠t kh·∫©u).</li>
                <li>S·ª≠ d·ª•ng l·∫°i c√πng m·ªôt kh√≥a m√£ h√≥a (key) cho nhi·ªÅu m·ª•c ƒë√≠ch kh√°c nhau.</li>
            </ul>
            <p style="background-color: #e3f2fd; border-left: 5px solid #4a90e2; padding: 15px; margin-top: 30px;">
                <strong>L∆∞u √Ω:</strong> Demo n√†y t·∫≠p trung v√†o tr∆∞·ªùng h·ª£p c∆° b·∫£n v√† nguy hi·ªÉm nh·∫•t: <strong>l∆∞u m·∫≠t kh·∫©u
                    d∆∞·ªõi d·∫°ng vƒÉn b·∫£n thu·∫ßn</strong> so v·ªõi vi·ªác bƒÉm an to√†n.
            </p>
            <h2>L√†m th·∫ø n√†o ƒë·ªÉ kh·∫Øc ph·ª•c?</h2>
            <ul>
                <li><strong>Kh√¥ng bao gi·ªù t·ª± vi·∫øt thu·∫≠t to√°n m√£ h√≥a.</strong> Lu√¥n s·ª≠ d·ª•ng c√°c th∆∞ vi·ªán v√† thu·∫≠t to√°n ƒë√£
                    ƒë∆∞·ª£c c·ªông ƒë·ªìng ki·ªÉm ch·ª©ng.</li>
                <li><strong>BƒÉm m·∫≠t kh·∫©u (Password Hashing):</strong> S·ª≠ d·ª•ng c√°c thu·∫≠t to√°n bƒÉm m·∫°nh, c√≥ y·∫øu t·ªë ng·∫´u
                    nhi√™n (salt) v√† t·ªën nhi·ªÅu t√†i nguy√™n ƒë·ªÉ x·ª≠ l√Ω nh∆∞ <strong>Argon2, scrypt, bcrypt</strong>. Kh√¥ng bao
                    gi·ªù l∆∞u m·∫≠t kh·∫©u d·∫°ng vƒÉn b·∫£n thu·∫ßn.</li>
                <li><strong>M√£ h√≥a to√†n b·ªô d·ªØ li·ªáu khi truy·ªÅn (Encrypt Data in Transit):</strong> Lu√¥n s·ª≠ d·ª•ng TLS
                    (HTTPS) cho m·ªçi k·∫øt n·ªëi.</li>
            </ul>
            <div class="mermaid-container">
                <div class="mermaid">
                    sequenceDiagram
                    participant User as Ng∆∞·ªùi d√πng
                    participant InsecureApp as ·ª®ng d·ª•ng L·ªói
                    participant SecureApp as ·ª®ng d·ª•ng An to√†n
                    participant Database as C∆° s·ªü d·ªØ li·ªáu
                    User->>InsecureApp: Dang ky voi mat khau "abc"
                    InsecureApp->>Database: LUU(user, "abc")
                    User->>SecureApp: Dang ky voi mat khau "abc"
                    SecureApp->>Database: LUU(user, HASH("abc"))
                    Note over Database: N·∫øu CSDL b·ªã r√≤ r·ªâ...<br />M·∫≠t kh·∫©u "abc" b·ªã l·ªô!<br />HASH("abc") v·∫´n an to√†n.
                </div>
            </div>
        </div>
    </div>
    <script>
        // L∆∞u √Ω: ƒê√¢y l√† h√†m hash ƒë∆°n gi·∫£n ƒë·ªÉ minh h·ªça, kh√¥ng an to√†n cho th·ª±c t·∫ø!
        async function simpleHash(str) {
            const buffer = new TextEncoder().encode(str);
            const hashBuffer = await crypto.subtle.digest('SHA-256', buffer);
            const hashArray = Array.from(new Uint8Array(hashBuffer));
            return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
        }
        async function registerUser() {
            const user = document.getElementById('username').value;
            const pass = document.getElementById('password').value;
            document.getElementById('db-insecure').textContent = `user: ${user}\npass: ${pass}`;
            const hashedPass = await simpleHash(pass);
            document.getElementById('db-secure').textContent = `user: ${user}\nhash: ${hashedPass.substring(0, 40)}...`;
        }
        window.onload = registerUser;
    </script>
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10.9.0/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true, theme: 'base' });
    </script>
</body>

</html>