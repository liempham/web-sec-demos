<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√†i h·ªçc v·ªÅ Broken Authentication</title>
    <style>
        html,
        body {
            margin: 0;
            padding: 0;
            background-color: #1d2b3a;
            color: white;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            scroll-behavior: smooth;
        }

        .section {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 40px 20px;
            box-sizing: border-box;
            min-height: 100vh;
        }

        .demo-section {
            background-color: #1d2b3a;
        }

        .lesson-section {
            background-color: #f0f2f5;
            color: #333;
            min-height: auto;
            padding-bottom: 60px;
        }

        .container {
            width: 100%;
            max-width: 650px;
        }

        h1 {
            font-size: clamp(2em, 8vw, 3em);
            margin-bottom: 20px;
        }

        .lesson-section h1,
        .lesson-section h2 {
            color: #333;
        }

        h2 {
            color: #4a90e2;
        }

        .lesson-section h2 {
            border-bottom: 2px solid #ddd;
            padding-bottom: 10px;
            margin-top: 40px;
        }

        p {
            font-size: clamp(1em, 4vw, 1.2em);
            line-height: 1.6;
            margin-bottom: 25px;
            color: #bdc3c7;
        }

        .lesson-section p,
        .lesson-section li {
            color: #555;
            text-align: left;
        }

        .lesson-section ul {
            padding-left: 25px;
        }

        .step-box {
            background-color: #2c3e50;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 5px solid #4a90e2;
            text-align: left;
        }

        .step-box h3 {
            margin-top: 0;
        }

        #sessionTokenInput,
        #loginAsButton,
        #viewInfoButton {
            width: 100%;
            padding: 15px;
            font-size: 1.1em;
            border-radius: 10px;
            box-sizing: border-box;
            margin-bottom: 10px;
            font-weight: 600;
        }

        #loginAsButton {
            background-color: #28a745;
            color: white;
            border: none;
            cursor: pointer;
        }

        #viewInfoButton {
            background-color: #e74c3c;
            color: white;
            border: none;
            cursor: pointer;
        }

        #sessionTokenInput {
            background-color: #1d2b3a;
            color: #ffc107;
            text-align: center;
            border: 2px solid #34495e;
            font-family: 'Courier New', Courier, monospace;
        }

        #account-info {
            background-color: #111;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #333;
            min-height: 80px;
            text-align: left;
        }

        .info-card {
            border: 1px solid #555;
            padding: 15px;
            border-radius: 5px;
        }

        .mermaid-container {
            width: 100%;
            margin-top: 30px;
        }

        @media (min-width: 992px) {
            .lesson-section .container {
                max-width: 900px;
            }

            .mermaid-container {
                margin-top: 40px;
            }
        }
    </style>
</head>

<body>
    <div class="section demo-section">
        <div class="container">
            <h1>üîë Th·ª≠ nghi·ªám L·ªói X√°c th·ª±c üîë</h1>
            <p>Demo n√†y m√¥ ph·ªèng m·ªôt h·ªá th·ªëng d√πng "Session Token" c√≥ th·ªÉ d·ª± ƒëo√°n ƒë∆∞·ª£c. H√£y l√†m theo c√°c b∆∞·ªõc ƒë·ªÉ chi·∫øm
                quy·ªÅn t√†i kho·∫£n c·ªßa ng∆∞·ªùi kh√°c.</p>
            <div class="step-box">
                <h3>B∆∞·ªõc 1: ƒêƒÉng nh·∫≠p</h3>
                <p>Nh·∫•n n√∫t b√™n d∆∞·ªõi ƒë·ªÉ ƒëƒÉng nh·∫≠p v·ªõi t∆∞ c√°ch `user101` v√† nh·∫≠n Session Token.</p><button
                    id="loginAsButton" onclick="login()">ƒêƒÉng nh·∫≠p v·ªõi t√†i kho·∫£n 'user101'</button>
            </div>
            <div class="step-box">
                <h3>B∆∞·ªõc 2: D√πng Token ƒë·ªÉ xem th√¥ng tin</h3>
                <p>Token c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c ƒëi·ªÅn s·∫µn. Nh·∫•n n√∫t "Xem th√¥ng tin" ƒë·ªÉ xem d·ªØ li·ªáu t√†i kho·∫£n c·ªßa b·∫°n.</p><input
                    type="text" id="sessionTokenInput" placeholder="Session Token s·∫Ω hi·ªán ·ªü ƒë√¢y..."><button
                    id="viewInfoButton" onclick="viewInfo()">Xem th√¥ng tin t√†i kho·∫£n</button>
            </div>
            <div class="step-box">
                <h3>B∆∞·ªõc 3: T·∫•n c√¥ng!</h3>
                <p>B√¢y gi·ªù, h√£y s·ª≠a Token trong √¥ ·ªü B∆∞·ªõc 2 t·ª´ <code>user101</code> th√†nh <code>user102</code> v√† nh·∫•n
                    l·∫°i n√∫t "Xem th√¥ng tin".</p>
            </div>
            <h2>Th√¥ng tin t√†i kho·∫£n b√≠ m·∫≠t:</h2>
            <div id="account-info"></div>
        </div>
    </div>
    <div class="section lesson-section">
        <div class="container">
            <h1>Broken Authentication l√† g√¨?</h1>
            <p style="text-align:center;">H√£y t∆∞·ªüng t∆∞·ª£ng Session Token l√† ch√¨a kh√≥a ph√≤ng kh√°ch s·∫°n. M·ªôt h·ªá th·ªëng t·ªët
                s·∫Ω ph√°t ch√¨a kh√≥a ng·∫´u nhi√™n. M·ªôt h·ªá th·ªëng l·ªói l·∫°i ph√°t ch√¨a kh√≥a theo th·ª© t·ª±: "key101", "key102". N·∫øu
                c√≥ "key101", b·∫°n c√≥ th·ªÉ ƒëo√°n ra "key102". L·ªói n√†y cho ph√©p k·∫ª t·∫•n c√¥ng m·∫°o danh ng∆∞·ªùi d√πng kh√°c.</p>
            <h2>M·ªôt s·ªë d·∫°ng L·ªói X√°c th·ª±c ph·ªï bi·∫øn</h2>
            <ul>
                <li><strong>T·∫•n c√¥ng Brute-force:</strong> Cho ph√©p th·ª≠ ƒëƒÉng nh·∫≠p v·ªõi h√†ng tri·ªáu m·∫≠t kh·∫©u m√† kh√¥ng b·ªã
                    gi·ªõi h·∫°n.</li>
                <li><strong>Session Token c√≥ th·ªÉ d·ª± ƒëo√°n ƒë∆∞·ª£c:</strong> H·ªá th·ªëng t·∫°o ra c√°c token theo m·ªôt quy lu·∫≠t ƒë∆°n
                    gi·∫£n.</li>
                <li><strong>Phi√™n l√†m vi·ªác kh√¥ng h·∫øt h·∫°n:</strong> Token kh√¥ng b·ªã v√¥ hi·ªáu h√≥a sau khi ng∆∞·ªùi d√πng ƒëƒÉng
                    xu·∫•t.</li>
                <li><strong>G·ª≠i th√¥ng tin nh·∫°y c·∫£m qua k√™nh kh√¥ng m√£ h√≥a (HTTP).</strong></li>
            </ul>
            <p style="background-color: #e3f2fd; border-left: 5px solid #4a90e2; padding: 15px; margin-top: 30px;">
                <strong>L∆∞u √Ω:</strong> V√≠ d·ª• trong demo n√†y t·∫≠p trung v√†o tr∆∞·ªùng h·ª£p kinh ƒëi·ªÉn <strong>"Session Token
                    c√≥ th·ªÉ d·ª± ƒëo√°n ƒë∆∞·ª£c"</strong>.
            </p>
            <h2>L√†m th·∫ø n√†o ƒë·ªÉ kh·∫Øc ph·ª•c?</h2>
            <ul>
                <li><strong>S·ª≠ d·ª•ng Session ID ng·∫´u nhi√™n, ph·ª©c t·∫°p:</strong> T·∫°o ra c√°c session token d√†i, ng·∫´u nhi√™n
                    b·∫±ng c√°c thu·∫≠t to√°n an to√†n (cryptographically secure random generator) ƒë·ªÉ kh√¥ng th·ªÉ ƒëo√°n ƒë∆∞·ª£c.</li>
                <li><strong>V√¥ hi·ªáu h√≥a token ph√≠a m√°y ch·ªß:</strong> Khi ng∆∞·ªùi d√πng ƒëƒÉng xu·∫•t ho·∫∑c ƒë·ªïi m·∫≠t kh·∫©u, token
                    c≈© ph·∫£i b·ªã v√¥ hi·ªáu h√≥a ngay l·∫≠p t·ª©c tr√™n m√°y ch·ªß.</li>
                <li><strong>Gi·ªõi h·∫°n s·ªë l·∫ßn ƒëƒÉng nh·∫≠p sai (Rate Limiting):</strong> Kh√≥a t√†i kho·∫£n t·∫°m th·ªùi sau m·ªôt s·ªë
                    l·∫ßn ƒëƒÉng nh·∫≠p th·∫•t b·∫°i ƒë·ªÉ ch·ªëng brute-force.</li>
            </ul>
            <div class="mermaid-container">
                <div class="mermaid">
                    sequenceDiagram
                    participant Attacker as K·∫ª t·∫•n c√¥ng
                    participant WebApp as ·ª®ng d·ª•ng Web
                    Attacker->>WebApp: 1. ƒêƒÉng nh·∫≠p v·ªõi t√†i kho·∫£n user101
                    WebApp-->>Attacker: 2. C·∫•p Token c√≥ th·ªÉ d·ª± ƒëo√°n:<br />"session-token-for-user101"
                    Note right of Attacker: Attacker nh·∫≠n th·∫•y quy lu·∫≠t<br />v√† t·ª± t·∫°o ra token m·ªõi!
                    Attacker->>WebApp: 3. G·ª≠i y√™u c·∫ßu v·ªõi Token gi·∫£ m·∫°o:<br />"session-token-for-user102"
                    Note right of WebApp: ·ª®ng d·ª•ng x√°c th·ª±c token h·ª£p l·ªá<br />nh∆∞ng kh√¥ng ki·ªÉm tra ch·ªß s·ªü h·ªØu!
                    WebApp-->>Attacker: 4. Tr·∫£ v·ªÅ th√¥ng tin b√≠ m·∫≠t<br />c·ªßa t√†i kho·∫£n user102
                </div>
            </div>
        </div>
    </div>
    <script>
        const fakeAccounts = { 'user101': { name: 'An Nguyen', info: 'S·ªë d∆∞ t√†i kho·∫£n: 15,000,000 VND' }, 'user102': { name: 'Binh Tran (N·∫°n nh√¢n)', info: 'M·∫≠t kh·∫©u email: Binh@123456' } }; const tokenInput = document.getElementById("sessionTokenInput"), infoArea = document.getElementById("account-info"); function login() { const token = 'session-token-for-user101'; tokenInput.value = token; infoArea.innerHTML = '<p style="color: #28a745;">ƒêƒÉng nh·∫≠p th√†nh c√¥ng! H√£y xem th√¥ng tin ·ªü B∆∞·ªõc 2.</p>' } function viewInfo() { const token = tokenInput.value; infoArea.innerHTML = ''; if (!token || !token.startsWith('session-token-for-')) { infoArea.innerHTML = '<p style="color: #e74c3c;">Token kh√¥ng h·ª£p l·ªá!</p>'; return } const username = token.replace('session-token-for-', ''), account = fakeAccounts[username]; if (account) { const card = document.createElement("div"); card.className = "info-card"; card.innerHTML = `<h3>Th√¥ng tin c·ªßa: ${account.name}</h3><p>${account.info}</p>`; if (username !== 'user101') { card.style.borderColor = '#e74c3c'; card.innerHTML += '<p style="color: #ffc107;"><strong>C·∫£nh b√°o:</strong> B·∫°n ƒëang xem th√¥ng tin c·ªßa ng∆∞·ªùi d√πng kh√°c!</p>' } infoArea.appendChild(card) } else { infoArea.innerHTML = '<p style="color: #e74c3c;">Kh√¥ng t√¨m th·∫•y th√¥ng tin cho token n√†y.</p>' } };
    </script>
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10.9.0/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true, theme: 'base' });
    </script>
</body>

</html>